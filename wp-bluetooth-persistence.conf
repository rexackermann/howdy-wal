## Howdy-WAL - Refined Bluetooth Persistence Policy
## Prevents Bluetooth disconnection during VT switch by disabling seat monitoring.

wireplumber.settings = {
  ## Keep bluetooth monitor active even when seat is "inactive"
  monitor.bluez.seat-monitoring = false
}

monitor.bluez.rules = [
  {
    matches = [
      {
        ## Match all Bluetooth cards and nodes
        device.name = "~bluez_card.*"
      },
      {
        node.name = "~bluez_output.*"
      },
      {
        node.name = "~bluez_input.*"
      }
    ]
    actions = {
      update-props = {
        ## Prevent idle suspension and session-based pausing
        session.suspend-on-idle = false
        node.pause-on-idle = false
      }
    }
  }
]
